<!-- Properties Management Page -->
<div class="properties-container">
    <div class="row mb-4">
        <div class="col-12">
            <div class="card dashboard-card">
                <div class="card-header-with-actions">
                    <h5 class="card-title mb-0">Property Management</h5>
                    <button class="btn btn-primary">
                        <i class="fas fa-plus me-2"></i>Add New Property
                    </button>
                </div>
                <div class="card-body">
                    <!-- Filter Section -->
                    <div class="filter-container mb-4">
                        <div class="row align-items-end">
                            <div class="col-md-3 mb-3">
                                <label for="statusFilter" class="form-label">Status</label>
                                <select class="form-select" id="statusFilter">
                                    <option value="">All Statuses</option>
                                    <option value="Active">Active</option>
                                    <option value="Pending">Pending</option>
                                    <option value="Sold">Sold</option>
                                </select>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="propertyTypeFilter" class="form-label">Property Type</label>
                                <select class="form-select" id="propertyTypeFilter">
                                    <option value="">All Types</option>
                                    <option value="Apartment">Apartment</option>
                                    <option value="House">House</option>
                                    <option value="Condo">Condo</option>
                                    <option value="Land">Land</option>
                                    <option value="Commercial">Commercial</option>
                                </select>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="searchProperty" class="form-label">Search</label>
                                <input type="text" class="form-control" id="searchProperty" placeholder="Search by title, location, ID...">
                            </div>
                            <div class="col-md-2 mb-3">
                                <button class="btn btn-secondary w-100">
                                    <i class="fas fa-filter me-2"></i>Filter
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Properties Table -->
                    <div class="table-container">
                        <div class="table-responsive">
                            <table class="table table-hover admin-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Title</th>
                                        <th>Price</th>
                                        <th>Location</th>
                                        <th>Status</th>
                                        <th>Date Added</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="propertiesTableBody">
                                    <!-- Table content will be loaded dynamically -->
                                    <tr>
                                        <td colspan="7" class="text-center py-4">
                                            <div class="spinner-border text-primary" role="status">
                                                <span class="visually-hidden">Loading...</span>
                                            </div>
                                            <p class="mt-2 mb-0">Loading properties...</p>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Pagination -->
                    <div class="d-flex justify-content-between align-items-center mt-4">
                        <div>
                            <span class="text-muted">Showing 1 to 5 of 145 entries</span>
                        </div>
                        <nav aria-label="Properties pagination">
                            <ul class="pagination mb-0">
                                <li class="page-item disabled">
                                    <a class="page-link" href="#" aria-label="Previous">
                                        <span aria-hidden="true">&laquo;</span>
                                    </a>
                                </li>
                                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="#" aria-label="Next">
                                        <span aria-hidden="true">&raquo;</span>
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Property Details Modal -->
    <div class="modal fade" id="propertyDetailsModal" tabindex="-1" aria-labelledby="propertyDetailsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="propertyDetailsModalLabel">Property Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="property-image mb-3">
                                <img src="https://via.placeholder.com/400x300" alt="Property Image" class="img-fluid rounded">
                            </div>
                            <div class="property-gallery row g-2">
                                <div class="col-3">
                                    <img src="https://via.placeholder.com/100x80" alt="Gallery Image" class="img-fluid rounded">
                                </div>
                                <div class="col-3">
                                    <img src="https://via.placeholder.com/100x80" alt="Gallery Image" class="img-fluid rounded">
                                </div>
                                <div class="col-3">
                                    <img src="https://via.placeholder.com/100x80" alt="Gallery Image" class="img-fluid rounded">
                                </div>
                                <div class="col-3">
                                    <img src="https://via.placeholder.com/100x80" alt="Gallery Image" class="img-fluid rounded">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h5 id="modalPropertyTitle">Modern Apartment in City Center</h5>
                            <p class="text-primary fw-bold fs-4" id="modalPropertyPrice">$250,000</p>
                            
                            <div class="mb-3">
                                <p class="mb-1"><i class="fas fa-map-marker-alt me-2 text-primary"></i><span id="modalPropertyLocation">New York, NY</span></p>
                                <p class="mb-1"><i class="fas fa-home me-2 text-primary"></i><span id="modalPropertyType">Apartment</span></p>
                                <p class="mb-1"><i class="fas fa-ruler-combined me-2 text-primary"></i><span id="modalPropertySize">1,200 sq ft</span></p>
                                <p class="mb-1"><i class="fas fa-bed me-2 text-primary"></i><span id="modalPropertyBedrooms">2 Bedrooms</span></p>
                                <p class="mb-1"><i class="fas fa-bath me-2 text-primary"></i><span id="modalPropertyBathrooms">2 Bathrooms</span></p>
                            </div>
                            
                            <div class="mb-3">
                                <div class="d-flex align-items-center mb-2">
                                    <span class="status-badge bg-success">Active</span>
                                    <span class="ms-2 text-muted">Listed on May 1, 2025</span>
                                </div>
                                <p class="mb-1"><i class="fas fa-user me-2 text-primary"></i>Listed by: <span id="modalPropertyAgent">John Doe</span></p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-12">
                            <h6 class="fw-bold">Description</h6>
                            <p id="modalPropertyDescription">
                                This beautiful modern apartment is located in the heart of the city. It features an open floor plan with high ceilings and large windows for abundant natural light. Renovated kitchen with stainless steel appliances, granite countertops, and custom cabinetry. The primary bedroom includes a walk-in closet and an en-suite bathroom with a glass shower.
                            </p>
                        </div>
                    </div>
                    
                    <div class="row mt-3">
                        <div class="col-12">
                            <h6 class="fw-bold">Features & Amenities</h6>
                            <div class="row">
                                <div class="col-md-6">
                                    <ul class="feature-list">
                                        <li><i class="fas fa-check me-2 text-success"></i>Air Conditioning</li>
                                        <li><i class="fas fa-check me-2 text-success"></i>Heating</li>
                                        <li><i class="fas fa-check me-2 text-success"></i>Balcony</li>
                                        <li><i class="fas fa-check me-2 text-success"></i>Elevator</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <ul class="feature-list">
                                        <li><i class="fas fa-check me-2 text-success"></i>Parking</li>
                                        <li><i class="fas fa-check me-2 text-success"></i>Gym</li>
                                        <li><i class="fas fa-check me-2 text-success"></i>Swimming Pool</li>
                                        <li><i class="fas fa-check me-2 text-success"></i>Security</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="editPropertyBtn">Edit Property</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Property Edit/Add Modal -->
    <div class="modal fade" id="propertyEditModal" tabindex="-1" aria-labelledby="propertyEditModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="propertyEditModalLabel">Edit Property</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="propertyEditForm">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="editPropertyTitle" class="form-label">Title</label>
                                <input type="text" class="form-control" id="editPropertyTitle" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="editPropertyPrice" class="form-label">Price</label>
                                <div class="input-group">
                                    <span class="input-group-text">$</span>
                                    <input type="number" class="form-control" id="editPropertyPrice" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="editPropertyLocation" class="form-label">Location</label>
                                <input type="text" class="form-control" id="editPropertyLocation" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="editPropertyType" class="form-label">Property Type</label>
                                <select class="form-select" id="editPropertyType" required>
                                    <option value="Apartment">Apartment</option>
                                    <option value="House">House</option>
                                    <option value="Condo">Condo</option>
                                    <option value="Land">Land</option>
                                    <option value="Commercial">Commercial</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label for="editPropertySize" class="form-label">Size (sq ft)</label>
                                <input type="number" class="form-control" id="editPropertySize" required>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="editPropertyBedrooms" class="form-label">Bedrooms</label>
                                <input type="number" class="form-control" id="editPropertyBedrooms" required>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="editPropertyBathrooms" class="form-label">Bathrooms</label>
                                <input type="number" class="form-control" id="editPropertyBathrooms" required>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="editPropertyDescription" class="form-label">Description</label>
                            <textarea class="form-control" id="editPropertyDescription" rows="4" required></textarea>
                        </div>
                        
                        <div class="mb-3">
                            <label for="editPropertyStatus" class="form-label">Status</label>
                            <select class="form-select" id="editPropertyStatus" required>
                                <option value="Active">Active</option>
                                <option value="Pending">Pending</option>
                                <option value="Sold">Sold</option>
                            </select>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Features & Amenities</label>
                            <div class="row">
                                <div class="col-md-3 mb-2">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="featureAC">
                                        <label class="form-check-label" for="featureAC">Air Conditioning</label>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-2">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="featureHeating">
                                        <label class="form-check-label" for="featureHeating">Heating</label>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-2">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="featureBalcony">
                                        <label class="form-check-label" for="featureBalcony">Balcony</label>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-2">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="featureElevator">
                                        <label class="form-check-label" for="featureElevator">Elevator</label>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-2">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="featureParking">
                                        <label class="form-check-label" for="featureParking">Parking</label>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-2">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="featureGym">
                                        <label class="form-check-label" for="featureGym">Gym</label>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-2">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="featurePool">
                                        <label class="form-check-label" for="featurePool">Swimming Pool</label>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-2">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="featureSecurity">
                                        <label class="form-check-label" for="featureSecurity">Security</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="editPropertyImages" class="form-label">Images</label>
                            <input type="file" class="form-control" id="editPropertyImages" multiple>
                            <div class="mt-2">
                                <p class="text-muted small">Current images will be displayed here. You can add new ones or delete existing ones.</p>
                                <div class="row property-images-preview">
                                    <div class="col-3 mb-2">
                                        <div class="position-relative">
                                            <img src="https://via.placeholder.com/100x80" alt="Property Image" class="img-fluid rounded">
                                            <button type="button" class="btn btn-danger btn-sm position-absolute top-0 end-0">
                                                <i class="fas fa-times"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-3 mb-2">
                                        <div class="position-relative">
                                            <img src="https://via.placeholder.com/100x80" alt="Property Image" class="img-fluid rounded">
                                            <button type="button" class="btn btn-danger btn-sm position-absolute top-0 end-0">
                                                <i class="fas fa-times"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="savePropertyBtn">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal fade" id="deletePropertyModal" tabindex="-1" aria-labelledby="deletePropertyModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deletePropertyModalLabel">Confirm Delete</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to delete this property? This action cannot be undone.</p>
                    <div class="alert alert-danger">
                        <p class="mb-0"><strong>Warning:</strong> Deleting this property will remove all associated data, including images, inquiries, and references.</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" id="confirmDeletePropertyBtn">Delete Property</button>
                </div>
            </div>
        </div>
    </div>
</div>
